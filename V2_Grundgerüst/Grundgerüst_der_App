from gettext import install


pip install kivy

from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.button import Button
from kivy.uix.widget import Widget
from kivy.graphics import Line

class HallenbadApp(App):
    def build(self):
        # Das Hauptlayout
        root = BoxLayout(orientation='vertical', spacing=10)

        # Karte des Hallenbads
        hallenbad_karte = HallenbadKarte()

        # Buttons für Aktionen
        action_layout = BoxLayout(orientation='horizontal', spacing=10)
        clear_button = Button(text='Clear', on_press=self.clear_canvas)
        save_button = Button(text='Save', on_press=self.save_data)
        action_layout.add_widget(clear_button)
        action_layout.add_widget(save_button)

        # Fügen Sie die Widgets zum Hauptlayout hinzu
        root.add_widget(hallenbad_karte)
        root.add_widget(action_layout)

        return root

    def clear_canvas(self, instance):
        # Funktion zum Löschen der Zeichenfläche aufrufen
        self.root.children[0].clear_canvas()

    def save_data(self, instance):
        # Funktion zum Speichern der Daten aufrufen
        self.root.children[0].save_data()

class HallenbadKarte(Widget):
    def __init__(self, **kwargs):
        super(HallenbadKarte, self).__init__(**kwargs)
        self.line = None

    def on_touch_down(self, touch):
        # Funktion zum Starten des Zeichnens aufrufen
        with self.canvas:
            self.line = Line(points=(touch.x, touch.y), width=2)

    def on_touch_move(self, touch):
        # Funktion zum Zeichnen aufrufen, wenn der Finger bewegt wird
        if self.line:
            self.line.points += (touch.x, touch.y)

    def on_touch_up(self, touch):
        # Funktion zum Beenden des Zeichnens aufrufen
        self.save_data()

    def clear_canvas(self):
        # Zeichenfläche leeren
        self.canvas.clear()

    def save_data(self):
        # Hier können Sie die Logik implementieren, um die gezeichneten Daten zu speichern
        # Zum Beispiel können Sie die Koordinaten der Linienpunkte in einer Datenstruktur speichern
        pass

if __name__ == '__main__':
    HallenbadApp().run()